{
    "schemes": [
        "http",
        "https"
    ],
    "swagger": "2.0",
    "info": {
        "description": "한글 주소를 WGS84 좌표로 변환하는 하이브리드 지오코딩 API 서버입니다.\nvWorld와 Kakao API를 활용한 자동 폴백 시스템을 제공합니다.",
        "title": "하이브리드 지오코딩 API",
        "contact": {
            "name": "API Support",
            "email": "support@example.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/api/v1/geocode": {
            "post": {
                "description": "한글 주소를 WGS84 좌표로 변환합니다. vWorld API를 우선 사용하고 실패 시 Kakao API로 자동 폴백됩니다.\naddress_type을 지정하면 해당 타입(ROAD/PARCEL)으로만 검색합니다. 미지정 시 자동으로 ROAD → PARCEL 순서로 시도합니다.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "geocoding"
                ],
                "summary": "주소를 좌표로 변환",
                "parameters": [
                    {
                        "description": "지오코딩 요청 (address_type은 선택사항: ROAD 또는 PARCEL)",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.GeocodingRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "변환 성공",
                        "schema": {
                            "$ref": "#/definitions/model.GeocodingResponse"
                        }
                    },
                    "400": {
                        "description": "잘못된 요청",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "404": {
                        "description": "주소를 찾을 수 없음",
                        "schema": {
                            "$ref": "#/definitions/model.GeocodingResponse"
                        }
                    },
                    "500": {
                        "description": "서버 에러",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/geocode/bulk": {
            "post": {
                "description": "여러 한글 주소를 WGS84 좌표로 변환합니다. 최대 100개까지 처리 가능하며, 최대 10개씩 동시 처리됩니다.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "geocoding"
                ],
                "summary": "여러 주소를 좌표로 변환",
                "parameters": [
                    {
                        "description": "대량 지오코딩 요청 (최대 100개)",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.BulkRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "변환 결과",
                        "schema": {
                            "$ref": "#/definitions/model.BulkResponse"
                        }
                    },
                    "400": {
                        "description": "잘못된 요청 (빈 배열 또는 100개 초과)",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "500": {
                        "description": "서버 에러",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "서비스와 Provider들의 상태를 확인합니다. 시스템 정보(메모리, Goroutine 등)도 함께 제공됩니다.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "서비스 상태 확인",
                "responses": {
                    "200": {
                        "description": "서비스 정상",
                        "schema": {
                            "$ref": "#/definitions/handler.HealthResponse"
                        }
                    },
                    "503": {
                        "description": "서비스 비정상 (Provider 장애)",
                        "schema": {
                            "$ref": "#/definitions/handler.HealthResponse"
                        }
                    }
                }
            }
        },
        "/ping": {
            "get": {
                "description": "서비스가 살아있는지 간단히 확인합니다",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Ping",
                "responses": {
                    "200": {
                        "description": "pong 응답",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/ready": {
            "get": {
                "description": "서비스가 요청을 처리할 준비가 되었는지 확인합니다. Kubernetes Readiness Probe에 사용할 수 있습니다.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Readiness 체크",
                "responses": {
                    "200": {
                        "description": "준비 완료",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    },
                    "503": {
                        "description": "준비 안됨",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "boolean"
                            }
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "handler.HealthResponse": {
            "type": "object",
            "properties": {
                "providers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/handler.ProviderStatus"
                    }
                },
                "status": {
                    "type": "string"
                },
                "system": {
                    "$ref": "#/definitions/handler.SystemInfo"
                },
                "timestamp": {
                    "type": "string"
                }
            }
        },
        "handler.ProviderStatus": {
            "type": "object",
            "properties": {
                "available": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "handler.SystemInfo": {
            "type": "object",
            "properties": {
                "goroutines": {
                    "type": "integer"
                },
                "memory_mb": {
                    "type": "number"
                },
                "num_gc": {
                    "type": "integer"
                },
                "uptime": {
                    "type": "string"
                }
            }
        },
        "model.AddressDetail": {
            "type": "object",
            "properties": {
                "building_name": {
                    "description": "건물명",
                    "type": "string"
                },
                "parcel_address": {
                    "description": "지번 주소",
                    "type": "string"
                },
                "road_address": {
                    "description": "도로명 주소",
                    "type": "string"
                },
                "zipcode": {
                    "description": "우편번호",
                    "type": "string"
                }
            }
        },
        "model.BulkRequest": {
            "type": "object",
            "required": [
                "addresses"
            ],
            "properties": {
                "addresses": {
                    "description": "최대 100건",
                    "type": "array",
                    "maxItems": 100,
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "model.BulkResponse": {
            "type": "object",
            "properties": {
                "processing_time_ms": {
                    "type": "integer"
                },
                "results": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.GeocodingResponse"
                    }
                },
                "summary": {
                    "type": "object",
                    "properties": {
                        "failed": {
                            "type": "integer"
                        },
                        "success": {
                            "type": "integer"
                        },
                        "total": {
                            "type": "integer"
                        }
                    }
                }
            }
        },
        "model.Coordinate": {
            "type": "object",
            "properties": {
                "latitude": {
                    "description": "위도 (y) - Decimal(9,6)",
                    "type": "number"
                },
                "longitude": {
                    "description": "경도 (x) - Decimal(9,6)",
                    "type": "number"
                }
            }
        },
        "model.GeocodingRequest": {
            "type": "object",
            "required": [
                "address"
            ],
            "properties": {
                "address": {
                    "description": "검색 주소",
                    "type": "string"
                },
                "address_type": {
                    "description": "주소 타입 (ROAD, PARCEL) - 선택적",
                    "type": "string",
                    "enum": [
                        "ROAD",
                        "PARCEL",
                        "road",
                        "parcel"
                    ]
                }
            }
        },
        "model.GeocodingResponse": {
            "type": "object",
            "properties": {
                "address_detail": {
                    "$ref": "#/definitions/model.AddressDetail"
                },
                "attempts": {
                    "description": "Provider 시도 내역",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.ProviderAttempt"
                    }
                },
                "coordinate": {
                    "$ref": "#/definitions/model.Coordinate"
                },
                "error": {
                    "type": "string"
                },
                "processed_at": {
                    "type": "string"
                },
                "processing_time_ms": {
                    "description": "밀리초",
                    "type": "integer"
                },
                "provider": {
                    "description": "최종 사용된 제공자",
                    "type": "string"
                },
                "success": {
                    "type": "boolean"
                }
            }
        },
        "model.ProviderAttempt": {
            "type": "object",
            "properties": {
                "error": {
                    "description": "에러 메시지",
                    "type": "string"
                },
                "provider": {
                    "description": "Provider 이름",
                    "type": "string"
                },
                "success": {
                    "description": "성공 여부",
                    "type": "boolean"
                }
            }
        }
    },
    "tags": [
        {
            "description": "지오코딩 API",
            "name": "geocoding"
        },
        {
            "description": "헬스체크 API",
            "name": "health"
        }
    ]
}